#!/bin/sh

set -euo pipefail

# Change the coordinates for your primary and secondary monitor here
left_monitor='1920x1080+0+0'
right_monitor='1920x1080+1920+0'

opt_whole_screen="Whole Screen"
opt_left_monitor="Left Monitor"
opt_right_monitor="Right Monitor"
opt_active_window="Active Window"
area_options="${opt_whole_screen}\n${opt_left_monitor}\n${opt_right_monitor}\n${opt_active_window}"

area=$(echo -e "${area_options}" | dmenu -p "Screenshot Area:" -l 10)

name=$(echo "" | dmenu -p "Screenshot name")

case "${area}" in
    "${opt_whole_screen}")
        maim "${name}"
        ;;
    "${opt_left_monitor}")
        maim --geometry=${left_monitor} "${name}"
        ;;
    "${opt_right_monitor}")
        maim --geometry=${right_monitor} "${name}"
        ;;
    "${opt_active_window}")
        maim -i $(xdotool getactivewindow) "${name}"
        ;;
    *)
        exit 1
        ;;
esac
